(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,t,a){e.exports=a(247)},212:function(e,t,a){},247:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),c=a.n(o),i=a(121),s=a.n(i),l=a(122),u=a.n(l),p=a(93),h=a.n(p),y=a(15),d=a(10),m=a(17),b=a(16),g=a(18),v=(a(212),a(6)),E=a(8),f=a.n(E),O=a(21);function K(){return(K=Object(O.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["encrypt","decrypt"]));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var j=a(24),w=a.n(j),P=a(276),C=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(m.a)(this,Object(b.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(v.a)(Object(v.a)(a))),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){var t=this;e.preventDefault(),function(){return K.apply(this,arguments)}().then(function(e){console.log("### RootRSAOAEPKey ###"),console.log("key.publicKey",e.publicKey),console.log("key.privateKey",e.privateKey),t.props.onGenerateKey(e)})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(w.a,{onClick:this.handleChange,label:"Generate Root RSA-OAEPKey"})),r.a.createElement("div",null,r.a.createElement(P.a,{variant:"body1",gutterBottom:!0},"Open your console to see the generated root CryptoKey")))}}]),t}(r.a.Component),S=a(278),A=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(m.a)(this,Object(b.a)(t).call(this,e))).handleRootRSAOAEPKeyChange=a.handleRootRSAOAEPKeyChange.bind(Object(v.a)(Object(v.a)(a))),a.handleExportKeys=a.handleExportKeys.bind(Object(v.a)(Object(v.a)(a))),a.handleImportKeys=a.handleImportKeys.bind(Object(v.a)(Object(v.a)(a))),a.handleEncryptMessage=a.handleEncryptMessage.bind(Object(v.a)(Object(v.a)(a))),a.handleMessageToEncryptChange=a.handleMessageToEncryptChange.bind(Object(v.a)(Object(v.a)(a))),a.handleDecryptMessage=a.handleDecryptMessage.bind(Object(v.a)(Object(v.a)(a))),a.state={RootRSAOAEPKey:{},jwtPublicKey:"",jwtPrivateKey:"",isRootRSAOAEPKeySet:!1,importedPublicKey:"",importedPrivateKey:"",encryptedMessage:"",messageToEncrypt:"Hello World! 12345",decryptedMessage:""},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"handleRootRSAOAEPKeyChange",value:function(e){this.setState({RootRSAOAEPKey:e,isRootRSAOAEPKeySet:!0})}},{key:"handleExportKeys",value:function(e,t){this.setState({jwtPublicKey:e,jwtPrivateKey:t})}},{key:"handleImportKeys",value:function(e,t){this.setState({importedPublicKey:e,importedPrivateKey:t})}},{key:"handleEncryptMessage",value:function(e){this.setState({encryptedMessage:e})}},{key:"handleMessageToEncryptChange",value:function(e){this.setState({messageToEncrypt:e})}},{key:"handleDecryptMessage",value:function(e){this.setState({decryptedMessage:e})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",null,r.a.createElement(P.a,{variant:"h2",component:"h2",gutterBottom:!0},"Step 1: Root Certificate (PBK)"),r.a.createElement(C,{onGenerateKey:this.handleRootRSAOAEPKeyChange}),r.a.createElement(P.a,{variant:"body1",gutterBottom:!0},"Root Key Set: ",this.state.isRootRSAOAEPKeySet.toString())),r.a.createElement("section",null,r.a.createElement(S.a,{variant:"middle"}),r.a.createElement(P.a,{variant:"h2",component:"h2",gutterBottom:!0},"Step 2: Export Keys"),r.a.createElement(B,{onExportKeys:this.handleExportKeys,rootKey:this.state.RootRSAOAEPKey,jwtPublicKey:this.state.jwtPublicKey,jwtPrivateKey:this.state.jwtPrivateKey,isRootKeySet:this.state.isRootRSAOAEPKeySet})),r.a.createElement("section",null,r.a.createElement(S.a,{variant:"middle"}),r.a.createElement(P.a,{variant:"h2",component:"h2",gutterBottom:!0},"Step 3: Import Key"),r.a.createElement(I,{onImportKeys:this.handleImportKeys,jwtPublicKey:this.state.jwtPublicKey,jwtPrivateKey:this.state.jwtPrivateKey,importedPublicKey:this.state.importedPublicKey,importedPrivateKey:this.state.importedPrivateKey})),r.a.createElement("section",null,r.a.createElement(S.a,{variant:"middle"}),r.a.createElement(P.a,{variant:"h2",component:"h2",gutterBottom:!0},"Step 4: SHA Encrypt Object"),r.a.createElement(W,{onEncryptMessage:this.handleEncryptMessage,onMessageToEncryptChange:this.handleMessageToEncryptChange,importedPublicKey:this.state.importedPublicKey,messageToEncrypt:this.state.messageToEncrypt,encryptedMessage:this.state.encryptedMessage})),r.a.createElement("section",null,r.a.createElement(S.a,{variant:"middle"}),r.a.createElement(P.a,{variant:"h2",component:"h2",gutterBottom:!0},"Step 5: SHA Decrypt"),r.a.createElement(G,{onDecryptMessage:this.handleDecryptMessage,importedPrivateKey:this.state.importedPrivateKey,encryptedMessage:this.state.encryptedMessage,decryptedMessage:this.state.decryptedMessage})))}}]),t}(r.a.Component);function M(e){return k.apply(this,arguments)}function k(){return(k=Object(O.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.crypto.subtle.exportKey("jwk",t).then(function(e){return e}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(){return(R=Object(O.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M(t.publicKey));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(){return(x=Object(O.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M(t.privateKey));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var B=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(m.a)(this,Object(b.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(v.a)(Object(v.a)(a))),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){var t=this;e.preventDefault();var a=this.props.rootKey;(function(e){return R.apply(this,arguments)})(a).then(function(e){(function(e){return x.apply(this,arguments)})(a).then(function(a){t.props.onExportKeys(e,a)})})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(w.a,{disabled:!this.props.isRootKeySet,onClick:this.handleChange,label:"Export Root RSA-OAEPKeys"})),r.a.createElement("div",null,r.a.createElement(P.a,{variant:"body1",gutterBottom:!0},"Exported JWT Public Key"),r.a.createElement("textarea",{rows:"6",cols:"100",readOnly:!0,value:JSON.stringify(this.props.jwtPublicKey)})),r.a.createElement("div",null,r.a.createElement(P.a,{variant:"body1",gutterBottom:!0},"Exported JWT Private Key"),r.a.createElement("textarea",{rows:"6",cols:"100",readOnly:!0,value:JSON.stringify(this.props.jwtPrivateKey)})))}}]),t}(r.a.Component);function T(){return(T=Object(O.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.crypto.subtle.importKey("jwk",t,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"]));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function D(){return(D=Object(O.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.crypto.subtle.importKey("jwk",t,{name:"RSA-OAEP",hash:"SHA-256"},!0,["decrypt"]));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var I=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(m.a)(this,Object(b.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(v.a)(Object(v.a)(a))),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){var t=this;e.preventDefault();var a=this.props.jwtPublicKey,n=this.props.jwtPrivateKey;(function(e){return T.apply(this,arguments)})(a).then(function(e){(function(e){return D.apply(this,arguments)})(n).then(function(a){console.log("### Imported Keys ###"),console.log("importedPublicKey",e),console.log("importedPrivateKey",a),t.props.onImportKeys(e,a)})})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(w.a,{onClick:this.handleChange,label:"Import Public and Private Key (Check console for CryptoKey)",disabled:""===this.props.jwtPublicKey})),r.a.createElement("div",null,r.a.createElement(P.a,{variant:"body1",gutterBottom:!0},"Imported Public Key: ",(""!==this.props.importedPublicKey).toString())),r.a.createElement("div",null,r.a.createElement(P.a,{variant:"body1",gutterBottom:!0},"Imported Private Key: ",(""!==this.props.importedPrivateKey).toString())))}}]),t}(r.a.Component);function H(){return(H=Object(O.a)(f.a.mark(function e(t,a){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.crypto.subtle.encrypt({name:"RSA-OAEP"},t,a));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var W=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(m.a)(this,Object(b.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(v.a)(Object(v.a)(a))),a.handleMessageChange=a.handleMessageChange.bind(Object(v.a)(Object(v.a)(a))),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){var t=this;e.preventDefault(),function(e,t){return H.apply(this,arguments)}(this.props.importedPublicKey,(new TextEncoder).encode(this.props.messageToEncrypt)).then(function(e){t.props.onEncryptMessage(e)})}},{key:"handleMessageChange",value:function(e){this.props.onMessageToEncryptChange(e.target.value)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(w.a,{disabled:""===this.props.importedPublicKey,onClick:this.handleChange,label:"Encrypt Message"})),r.a.createElement("div",null,r.a.createElement(P.a,{variant:"body1",gutterBottom:!0},"Message to Encrypt"),r.a.createElement("textarea",{rows:"6",cols:"100",value:this.props.messageToEncrypt,onChange:this.handleMessageChange})),r.a.createElement("div",null,r.a.createElement(P.a,{variant:"body1",gutterBottom:!0},"Encrypted Message (ArrayBuffer to Hex for demo)"),r.a.createElement("textarea",{rows:"6",cols:"100",readOnly:!0,value:(e=this.props.encryptedMessage,Array.prototype.map.call(new Uint8Array(e),function(e){return("00"+e.toString(16)).slice(-2)}).join(""))})));var e}}]),t}(r.a.Component);function F(){return(F=Object(O.a)(f.a.mark(function e(t,a){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.crypto.subtle.decrypt({name:"RSA-OAEP"},t,a));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var J=a(280),G=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(m.a)(this,Object(b.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(v.a)(Object(v.a)(a))),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){var t=this;e.preventDefault(),function(e,t){return F.apply(this,arguments)}(this.props.importedPrivateKey,this.props.encryptedMessage).then(function(e){t.props.onDecryptMessage((new TextDecoder).decode(e))})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(w.a,{disabled:""===this.props.importedPrivateKey||""===this.props.encryptedMessage,onClick:this.handleChange,label:"Decrypt Message"})),r.a.createElement("div",null,r.a.createElement(P.a,{variant:"body1",gutterBottom:!0},"Decrypted Message"),r.a.createElement(J.a,{placeholder:"MultiLine with rows: 2 and rowsMax: 4",multiline:!0,rows:6,rowsMax:4,readOnly:!0,value:this.props.decryptedMessage}),r.a.createElement("textarea",{rows:"6",cols:"100",readOnly:!0,value:this.props.decryptedMessage})))}}]),t}(r.a.Component),L=a(279),N=function(e){function t(){return Object(y.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(L.a,{maxWidth:"sm"},r.a.createElement(P.a,{variant:"h1",component:"h1",gutterBottom:!0},"Test WebCrypto"),r.a.createElement(A,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(function(){return r.a.createElement(u.a,{muiTheme:h()(s.a)},r.a.createElement(N,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[127,1,2]]]);
//# sourceMappingURL=main.317c617e.chunk.js.map